var webservice = require('./webservice')
var privbypass = require('../privilege/privbypass')
var following = require('../core/following')
var config = require('../core/config')

module.exports = {
	get : function(entidade, crud, post, callback, id) {
		webservice.setWebService('localhost', config.getConfiguration().getPort())

		var idStr = (id != undefined) ? ('/' + id) : ''

		crud = (crud == 'listone') ? '' : ('/' + crud)

		return webservice.getWebService().write('api/' + entidade + crud + idStr, post, function(res) {

			if (res.error != undefined)
				return res.send(require('../error/error').dispatch(12, undefined)) 

			return callback(res)
		})
	}
}
