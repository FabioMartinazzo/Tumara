var clone = require('clone')

var Rollback = {
	obj : null,
	init : function(obj) {
		if (obj.rollback == undefined)
			return undefined

		this.obj = obj.rollback
		return clone(this)
	},
	getEntity : function() {
		return this.obj.entity
	},
	getId : function() {
		return this.obj.id
	},
	getUsuario : function() {
		return this.obj.priv.usuario
	},
	getSenha : function() {
		return this.obj.priv.senha
	}
}

module.exports = {
	setRollback : function(obj, entityToBack, idToBack, usuario, senha) {
		obj.rollback = { entity : entityToBack, id : idToBack, priv : { usuario : usuario, senha : senha } }
	},
	getRollback : function(obj) {
		return Rollback.init(obj)
	}
}
